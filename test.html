<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>حساب كميات الخلطة</title>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #ffffff;
      text-align: center;
    }

    img.full-width {
      width: 100%;
      height: auto;
      display: block;
    }

    .container {
      padding: 20px;
    }

    .input-frame {
      background-color: #f2f2f2;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .input-frame img {
      width: 80%;
      margin-bottom: 10px;
    }

    input {
      padding: 15px;
      width: 80%;
      font-size: 20px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }

    .button-container {
      margin-top: 15px;
    }

    .button-container button {
      padding: 10px 20px;
      font-size: 20px;
      margin: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
      cursor: pointer;
    }

    .button-container button:hover {
      background-color: #e0e0e0;
    }

    #results, #total {
      background-color: #e0ffe0;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
    }

    .share-btn {
      background-color: #25D366;
      color: white;
      padding: 10px 20px;
      font-size: 18px;
      margin-top: 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      display: none;
    }

    .share-btn:hover {
      background-color: #1ebe57;
    }

    .random-dua, .tips-box {
      background-color: #f2f2f2;
      margin: 20px auto;
      padding: 20px;
      width: 90%;
      border-radius: 10px;
    }

    .tips-box {
      margin-bottom: 50px; /* الفراغ اللي طلبته */
    }

    .footer-text {
      font-size: 14px;
      color: #666;
      margin-bottom: 10px;
    }

    audio {
      display: none;
    }
  </style>
</head>
<body>

  <!-- صورة الهيدر -->
  <img src="head.png" alt="هيدر" class="full-width">

  <div class="container">

    <!-- مربع الإدخال -->
    <div class="input-frame">
      <img src="ml.png" alt="أدخل حجم القالب">
      <input type="number" id="volume" placeholder="أدخل حجم القالب بالملي">
      <div class="button-container">
        <button onclick="playClick(); calculate();">احسب</button>
        <button onclick="playClick(); resetForm();">مسح</button>
      </div>
    </div>

    <!-- النتائج -->
    <div id="results" style="display:none;">
      <p>الجبس: <span id="gypsum">0</span> جرام</p>
      <p>الإسمنت: <span id="cement">0</span> جرام</p>
      <p>الماء: <span id="water">0</span> جرام</p>
    </div>

    <div id="total" style="display:none;">
      <strong>المجموع الكلي: <span id="sum">0</span> جرام</strong>
    </div>

    <button class="share-btn" onclick="shareWhatsApp()">مشاركة على واتساب</button>

    <!-- الدعاء العشوائي -->
    <div class="random-dua" id="duaBox"></div>

    <!-- النصائح -->
    <div class="tips-box">
      <h3>نصائح مهمة:</h3>
      <ul style="text-align: right; direction: rtl;">
        <li>يُفضل خلط الجبس والإسمنت بنسبة صحيحة للحصول على صلابة مناسبة.</li>
        <li>أضف الماء تدريجياً حتى تحصل على القوام المناسب.</li>
        <li>استخدم أدوات نظيفة لتفادي تفاعل المواد مع الشوائب.</li>
        <li>للأعمال المنزلية الصغيرة، تأكد من تجربة كمية صغيرة أولاً.</li>
      </ul>
    </div>

    <!-- الإصدار والحقوق -->
    <div class="footer-text">
      الإصدار 4.0 - جميع الحقوق محفوظة
    </div>

  </div>

  <!-- الفوتر -->
  <img src="footer.png" alt="فوتر" class="full-width">

  <!-- الصوت -->
  <audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-29.mp3"></audio>

  <!-- سكريبت -->
  <script>
    function playClick() {
      document.getElementById('clickSound').play();
    }

    function animateNumber(element, start, end, duration) {
      let range = end - start;
      let current = start;
      let increment = range / (duration / 20);
      let timer = setInterval(function() {
        current += increment;
        element.innerText = Math.floor(current);
        if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
          element.innerText = end;
          clearInterval(timer);
        }
      }, 20);
    }

    function calculate() {
      const volume = parseFloat(document.getElementById('volume').value);
      if (isNaN(volume)) {
        alert("الرجاء إدخال رقم صحيح لحجم القالب.");
        return;
      }

      const ratio = volume / 300;
      const gypsum = Math.round(280 * ratio);
      const cement = Math.round(26 * ratio);
      const water = Math.round(244 * ratio);
      const total = gypsum + cement + water;

      document.getElementById('results').style.display = 'block';
      document.getElementById('total').style.display = 'block';
      document.querySelector('.share-btn').style.display = 'inline-block';

      animateNumber(document.getElementById('gypsum'), 0, gypsum, 1000);
      animateNumber(document.getElementById('cement'), 0, cement, 1000);
      animateNumber(document.getElementById('water'), 0, water, 1000);
      animateNumber(document.getElementById('sum'), 0, total, 1000);
    }

    function resetForm() {
      document.getElementById('volume').value = '';
      document.getElementById('results').style.display = 'none';
      document.getElementById('total').style.display = 'none';
      document.querySelector('.share-btn').style.display = 'none';
    }

    function shareWhatsApp() {
      const gypsum = document.getElementById('gypsum').innerText;
      const cement = document.getElementById('cement').innerText;
      const water = document.getElementById('water').innerText;
      const sum = document.getElementById('sum').innerText;

      const message = `حساب كميات الخلطة:\nالجبس: ${gypsum} جرام\nالإسمنت: ${cement} جرام\nالماء: ${water} جرام\nالمجموع: ${sum} جرام\nمقدمة من برنامج حساب الخلطة.`;
      const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank');
    }

    // أدعية عشوائية
    const duas = [
      "اللهم وفقني لما تحب وترضى.",
      "اللهم إني أسألك علماً نافعاً ورزقاً طيباً وعملاً متقبلاً.",
      "اللهم يسر لي أمري وبارك لي في وقتي.",
      "يا رب اجعل هذا اليوم مباركاً مسهلاً.",
      "اللهم اجعل عملي هذا خالصاً لوجهك الكريم."
    ];
    window.onload = function () {
      const randomIndex = Math.floor(Math.random() * duas.length);
      document.getElementById("duaBox").innerText = duas[randomIndex];
    };
  </script>

</body>
</html>
