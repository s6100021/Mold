<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>حساب كميات الخلطة</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        font-family: 'Cairo', sans-serif;
        background-color: #ffffff;
        text-align: center;
    }
    .banner {
        width: 100%;
        height: auto;
    }
    .footer-img {
        width: 100%;
        margin-top: 20px;
    }
    .card-custom {
        border-radius: 15px;
        box-shadow: 0 0 10px #ccc;
        margin-top: 30px;
        padding: 20px;
    }
    input {
        font-size: 1.2rem;
    }
    .share-btn {
        background-color: #25D366;
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1.5rem;
        border-radius: 10px;
        margin-top: 20px;
        display: none;
    }
    .share-btn:hover {
        background-color: #1ebe57;
    }
    .copyright {
        font-size: 0.9rem;
        color: #555;
        margin: 15px 0 5px 0;
    }
</style>
</head>

<body>

<!-- صورة الهيدر -->
<img src="head.png" alt="رأس الصفحة" class="banner">

<div class="container">

    <!-- كرت الإدخال -->
    <div class="card card-custom">
        <img src="ml.png" alt="ادخل حجم القالب" class="img-fluid mb-4" style="max-width: 300px;">
        <input type="number" id="volume" class="form-control mb-4" placeholder="أدخل حجم القالب بالملي">

        <div class="d-flex justify-content-center">
            <button onclick="calculate()" class="btn btn-secondary mx-2">احسب</button>
            <button onclick="resetForm()" class="btn btn-danger mx-2">مسح</button>
        </div>
    </div>

    <!-- النتائج -->
    <div id="results" class="card card-custom bg-light mt-4" style="display:none;">
        <h5>نتائج الحساب:</h5>
        <p>الجبس: <span id="gypsum">0</span> جرام</p>
        <p>الإسمنت: <span id="cement">0</span> جرام</p>
        <p>الماء: <span id="water">0</span> جرام</p>
    </div>

    <!-- المجموع -->
    <div id="total" class="card card-custom bg-success text-white mt-4" style="display:none;">
        <strong>المجموع الكلي: <span id="sum">0</span> جرام</strong>
    </div>

    <!-- مربع الأدعية -->
    <div id="dua-frame" class="card card-custom bg-warning mt-4">
        <p id="dua-text" class="mb-0">دعاء اليوم</p>
    </div>

    <!-- زر مشاركة واتساب -->
    <button class="share-btn" onclick="shareWhatsApp()">مشاركة على واتساب</button>

    <!-- الحقوق -->
    <div class="copyright">
        الإصدار ٤.٠ | جميع الحقوق محفوظة
    </div>

</div>

<!-- صورة الفوتر -->
<img src="footer.png" alt="تذييل الصفحة" class="footer-img">

<!-- صوت النقر -->
<audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-29.mp3"></audio>

<!-- سكربت العمليات -->
<script>
// حركة الأرقام
function animateNumber(element, start, end, duration) {
    let range = end - start;
    let current = start;
    let increment = range / (duration / 20);
    let timer = setInterval(function() {
        current += increment;
        element.innerText = Math.floor(current);
        if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
            element.innerText = end;
            clearInterval(timer);
        }
    }, 20);
}

// حساب الكميات
function calculate() {
    const volume = parseFloat(document.getElementById('volume').value);
    if (isNaN(volume)) {
        alert("الرجاء إدخال رقم صحيح لحجم القالب.");
        return;
    }

    const ratio = volume / 300;
    const gypsum = Math.round(280 * ratio);
    const cement = Math.round(26 * ratio);
    const water = Math.round(244 * ratio);
    const total = gypsum + cement + water;

    document.getElementById('results').style.display = 'block';
    document.getElementById('total').style.display = 'block';

    animateNumber(document.getElementById('gypsum'), 0, gypsum, 1000);
    animateNumber(document.getElementById('cement'), 0, cement, 1000);
    animateNumber(document.getElementById('water'), 0, water, 1000);
    animateNumber(document.getElementById('sum'), 0, total, 1000);

    document.getElementById('clickSound').play();

    document.querySelector('.share-btn').style.display = 'inline-block';
}

// مسح البيانات
function resetForm() {
    document.getElementById('volume').value = '';
    document.getElementById('results').style.display = 'none';
    document.getElementById('total').style.display = 'none';
    document.querySelector('.share-btn').style.display = 'none';
}

// مشاركة على واتساب
function shareWhatsApp() {
    const gypsum = document.getElementById('gypsum').innerText;
    const cement = document.getElementById('cement').innerText;
    const water = document.getElementById('water').innerText;
    const sum = document.getElementById('sum').innerText;

    const message = `حساب كميات الخلطة:\nالجبس: ${gypsum} جرام\nالإسمنت: ${cement} جرام\nالماء: ${water} جرام\nالمجموع الكلي: ${sum} جرام\nمقدمة من برنامج حساب الخلطة.`;
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
}

// الأدعية العشوائية
const duas = [
    "اللهم إني أسألك العفو والعافية في الدنيا والآخرة.",
    "اللهم اجعل عملي خالصًا لوجهك الكريم.",
    "اللهم إني أعوذ بك من الهم والحزن والعجز والكسل.",
    "اللهم وفقني لما تحب وترضى.",
    "اللهم اشرح لي صدري ويسر لي أمري.",
    "اللهم ارزقني رزقاً حلالاً طيباً مباركاً فيه.",
    "اللهم اجعلني من التوابين واجعلني من المتطهرين.",
    "اللهم صل وسلم على نبينا محمد."
];

// عرض دعاء عشوائي عند تحميل الصفحة
window.onload = function() {
    const randomDua = duas[Math.floor(Math.random() * duas.length)];
    document.getElementById('dua-text').innerText = randomDua;
};
</script>

</body>
</html>
